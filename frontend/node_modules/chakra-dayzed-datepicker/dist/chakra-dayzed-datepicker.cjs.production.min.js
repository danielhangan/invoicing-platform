"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@chakra-ui/react"),n=require("dayzed"),r=require("date-fns"),a=require("arrow-keys-react");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=o(e),u=o(a);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(a[n]=e[n]);return a}var d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f={variant:"ghost",size:"sm"},p=function(n){var r,a=n.calendars,o=n.getBackProps,u=null==(r=n.propsConfigs)?void 0:r.dateNavBtnProps;return l.default.createElement(e.Fragment,null,l.default.createElement(t.Button,s({},o({calendars:a,offset:12}),f,u),"<<"),l.default.createElement(t.Button,s({},o({calendars:a}),f,u),"<"))},m=function(n){var r,a=n.calendars,o=n.getForwardProps,u=null==(r=n.propsConfigs)?void 0:r.dateNavBtnProps;return l.default.createElement(e.Fragment,null,l.default.createElement(t.Button,s({},o({calendars:a}),f,u),">"),l.default.createElement(t.Button,s({},o({calendars:a,offset:12}),f,u),">>"))},g=function(n){var r=n.dateObj,a=n.propsConfigs,o=n.isInRange,u=n.onMouseEnter,i=r.date,d=r.selected,c=r.selectable,f=r.today,p=n.renderProps.getDateProps,m=(null==a?void 0:a.dayOfMonthBtnProps)||{},g=m.defaultBtnProps,v=m.isInRangeBtnProps,h=m.selectedBtnProps,P=m.todayBtnProps,y=e.useMemo((function(){return{defaultBtnProps:s({size:"sm",variant:"outline",background:"transparent",borderColor:"transparent",_hover:{bg:"purple.400"},_after:{content:"''",position:"absolute",top:"-0.125rem",left:"-0.125rem",bottom:"-0.125rem",right:"-0.125rem",borderWidth:"0.125rem",borderColor:"transparent"}},g),isInRangeBtnProps:s({background:"purple.200"},v),selectedBtnProps:s({background:"purple.200"},h),todayBtnProps:s({borderColor:"blue.400"},P)}}),[g,v,h,P]);return l.default.createElement(t.Button,s({},p({dateObj:r,disabled:!c,onMouseEnter:u}),{disabled:!c},y.defaultBtnProps,o&&c&&y.isInRangeBtnProps,d&&c&&y.selectedBtnProps,f&&y.todayBtnProps),c?i.getDate():"X")},v=function(e){var n=e.renderProps,r=e.configs,a=e.propsConfigs,o=e.onMouseEnterHighlight,u=e.isInRange,s=n.calendars,i=n.getBackProps,d=n.getForwardProps;return s.length<=0?null:l.default.createElement(t.Stack,{className:"datepicker-calendar",direction:["column","column","row"]},s.map((function(e){return l.default.createElement(t.VStack,{key:""+e.month+e.year,height:"100%",borderWidth:"1px",padding:"5px 10px"},l.default.createElement(t.HStack,null,l.default.createElement(p,{calendars:s,getBackProps:i,propsConfigs:a}),l.default.createElement(t.Heading,{size:"sm",textAlign:"center"},r.monthNames[e.month]," ",e.year),l.default.createElement(m,{calendars:s,getForwardProps:d,propsConfigs:a})),l.default.createElement(t.Divider,null),l.default.createElement(t.SimpleGrid,{columns:7,spacing:1,textAlign:"center"},r.dayNames.map((function(n){return l.default.createElement(t.Box,{fontSize:"sm",fontWeight:"semibold",key:""+e.month+e.year+n},n)})),e.weeks.map((function(r,s){return r.map((function(r,i){var d=""+e.month+e.year+s+i;if(!r)return l.default.createElement(t.Box,{key:d});var c=r.date;return l.default.createElement(g,{key:d,dateObj:r,propsConfigs:a,renderProps:n,isInRange:u&&u(c),onMouseEnter:function(){o&&o(c)}})}))}))))})))},h=["configs","propsConfigs","usePortal"],P={dateFormat:"yyyy-MM-dd",monthNames:d,dayNames:c},y=["configs","propsConfigs","initDate","id","name","usePortal"],E=function(n){var r=n.configs,a=n.propsConfigs,o=n.selected,i=n.renderProps,d=e.useState(null),c=d[0],f=d[1],p=i.calendars,m=function(e){var t=document.activeElement,n=document.querySelectorAll("button");n.forEach((function(r,a){var o=a+e;r===t&&(o<=n.length-1&&o>=0?n[o].focus():n[0].focus())}))};return u.default.config({left:function(){m(-1)},right:function(){m(1)},up:function(){m(-7)},down:function(){m(7)}}),p.length>0?l.default.createElement(t.Flex,s({},u.default.events,{onMouseLeave:function(){f(null)}}),l.default.createElement(v,{renderProps:i,configs:r,propsConfigs:a,isInRange:function(e){if(!Array.isArray(o)||null==o||!o.length)return!1;var t=o[0];return 2===o.length?t<e&&o[1]>e:c&&(t<e&&c>=e||e<t&&e>=c)},onMouseEnterHighlight:function(e){Array.isArray(o)&&null!=o&&o.length&&f(e)}})):null},b={dateFormat:"MM/dd/yyyy",monthNames:d,dayNames:c};exports.RangeDatepicker=function(a){var o=a.configs,u=void 0===o?b:o,d=a.propsConfigs,c=void 0===d?{}:d,f=a.initDate,p=void 0===f?new Date:f,m=a.id,g=a.name,v=a.usePortal,h=i(a,y),P=h.selectedDates,C=h.minDate,B=h.maxDate,D=h.onDateChange,k=h.disabled,F=e.useRef(null),M=e.useRef(null),O=e.useState(!1),S=O[0],x=O[1];t.useOutsideClick({ref:F,handler:function(){return x(!1)}});var R=n.useDayzed({onDateSelected:function(e){var t=e.date;if(e.selectable){var n=[].concat(P);P.length?1===P.length?(P[0]<t?n.push(t):n.unshift(t),D(n)):2===n.length&&D([t]):(n.push(t),D(n))}},selected:P,monthsToDisplay:2,date:p,minDate:C,maxDate:B}),w=P[0]?""+r.format(P[0],u.dateFormat):"";w+=P[1]?" - "+r.format(P[1],u.dateFormat):"";var N=v?t.Portal:l.default.Fragment;return l.default.createElement(t.Popover,{placement:"bottom-start",variant:"responsive",isOpen:S,onClose:function(){return x(!1)},initialFocusRef:M,isLazy:!0},l.default.createElement(t.PopoverTrigger,null,l.default.createElement(t.Input,s({id:m,autoComplete:"off",isDisabled:k,ref:M,onClick:function(){return x(!S)},name:g,value:w,onChange:function(e){return e.target.value}},c.inputProps))),l.default.createElement(N,null,l.default.createElement(t.PopoverContent,{ref:F,width:"100%"},l.default.createElement(t.PopoverBody,null,l.default.createElement(E,{renderProps:R,configs:u,propsConfigs:c,selected:P})))))},exports.SingleDatepicker=function(a){var o=a.configs,u=void 0===o?P:o,d=a.propsConfigs,c=a.usePortal,f=i(a,h),p=f.date,m=f.name,g=f.disabled,y=f.onDateChange,E=f.id,b=e.useRef(null),C=e.useRef(null),B=e.useState(!1),D=B[0],k=B[1];t.useOutsideClick({ref:b,handler:function(){return k(!1)}});var F=n.useDayzed({showOutsideDays:!0,onDateSelected:function(e){var t=e.date;if(e.selectable)return t instanceof Date&&!isNaN(t.getTime())?(y(t),void k(!1)):void 0},selected:p}),M=c?t.Portal:l.default.Fragment;return l.default.createElement(t.Popover,{placement:"bottom-start",variant:"responsive",isOpen:D,onClose:function(){return k(!1)},initialFocusRef:C,isLazy:!0},l.default.createElement(t.PopoverTrigger,null,l.default.createElement(t.Input,s({id:E,autoComplete:"off",isDisabled:g,ref:C,onClick:function(){return k(!D)},name:m,value:p?r.format(p,u.dateFormat):"",onChange:function(e){return e.target.value}},null==d?void 0:d.inputProps))),l.default.createElement(M,null,l.default.createElement(t.PopoverContent,{ref:b,width:"100%"},l.default.createElement(t.PopoverBody,null,l.default.createElement(v,{renderProps:F,configs:u,propsConfigs:d})))))};
//# sourceMappingURL=chakra-dayzed-datepicker.cjs.production.min.js.map
